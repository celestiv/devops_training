# Написание хорошего Dockerfile

## 10 рекомендаций по созданию оптимизированных веб-приложений Node.js с помощью Docker:

- Явно указывайте теги базовых образов Docker.
- Устанавливайте только prod зависимости в образ Docker Node.js.
- Оптимизируйте инструменты Node.js для prod.
- Не запускайте контейнеры от имени root.
- Безопасно завершайте веб-приложения Node.js в контейнере.
- Используйте многоэтапную сборку.
- Исключите ненужные файлы при помощи .dockerignore

## Заключение

Теперь мы знаем, очень много хороших практик по работе с Docker образами. Они позволят нам создавать легковесные, быстро обирающиеся и защищённые образы. Всё, что мы разобрали на это лекции, активно используется в производственном окружении:
- Унификация образов для dev, test и prod за счёт переменных окружения и CMD, ENTRYPOINT.
- Использование многостадийной сборки.
- Правильный выбор базовых образов или создание своих базовых образов.
- Тестирование образов на безопасность.
- Оптимизация инструментов для prod окружения.
- Ограничение прав пользователя в контейнере.
- Использование специального init процесса для контейнера.
- И, конечно, исключение всего лишнего из контейнера за счёт .dockerignore.
