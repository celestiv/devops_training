# StatefulSet

Есть такое сравнение. Суть его состоит в том, что приложения делятся на скот (Cattle), чьи “особи” мы можем в любой момент заменить на новые без особой для себя потери, и на питомцев (Pets), которые для нас важны и важно чтобы они оставались такими, какими мы их создали (то есть чтобы была сохранена их идентичность).

До сих пор мы работали со Stateless приложениями. Они не хранили своё состояние. Можно было безболезненно заменить один под на другой такой же.

Но есть Statefull приложения, например, базы данных. они хранят своё состояние, и для них важно не потерять свои данные. Именно для них был создан контроллер репликации StatefulSet. Он позволяет создавать приложения, идентичность которых сохраняется между перезапусками и подчиняется чётким законам при масштабировании. Важные отличия от Deployment:

- инстансы StatefulSet всегда именуются по порядку (<имя>-<номер от 0>);
- инстансы StatefulSet при обновлении создаются и удаляются также строго по порядку с конца к началу;
- конфигурация StatefulSet может содержать информацию о связанном с ним Headless Service, который позволяет в любой момент получить текущий список инстансов данного StatefulSet;
- конфигурация StatefulSet может содержать шаблон постоянного тома (о них мы подробно поговорим в следующей лекции), который автоматически заказывается с помощью StorageClass при масштабировании инстансов вверх.
